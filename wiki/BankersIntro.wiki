#summary RepastCity Criminal Bankers Tutorial

= RepastCity _Criminal Bankers_ Tutorial =

= Introduction =

This tutorial uses the RepastCity model to build a simple agent-based model of a virtual city. In the basic model, agents choose a building to travel to, go there, and then travel home again; repeating this process forever. This tutorial enhance the model to make the behaviour a bit more interesting by turning the agents into criminal bankers (bankers who, in these tough economic times, need to commit burglary to top up their bonuses). We can then explore some interesting city dynamics.

The following changes will be made to the basic model:

  # Give the agents a 'workplace' - a bank that they can use for their legitimate city jobs.
  # Implement a clock so that agents know what the time is, not just how many time steps ('iterations') have occurred.
  # Change the agent's behaviour so that they go to work between 9am - 5pm and spend the rest of their time at home (or travelling).
  # Further update the agents' behaviour so that they randomly commit burglary if they pass a suitable house while they are travelling.
  # Remove a few key roads from the road network to see what affect this will have on patterns of burglary.


This tutorial assumes that the reader understands Java programming and has used Repast Simphony (Java) before. The Repast [http://repast.sourceforge.net/docs.html documentation] page has numerous tutorials and the [http://repast.sourceforge.net/docs/RepastJavaGettingStarted.pdf Getting Started (Java)] tutorial is particularly relevant.

= GIS Data - York =

The data for the tutorial cover part of the city of York. It is real GIS data produced by [http://www.ordnancesurvey.co.uk/oswebsite/products/os-mastermap/index.html Ordnance Survey] but, for the sake of this tutorial, the data have been cut down by removing a large number of the houses and roads. The image below illustrates the study area; agents live in a suburban area towards the north of the city and travel into the centre for work. There are a small number of major roads which offer the quickest routes into the city but, due to budget cuts, the council are going to have to close these and the bankers will have to find new routes. This might lead to interesting effects on travel patterns and on burglary rates.


http://repastcity.googlecode.com/svn/wiki/images/bankers/york_data.jpg

= Model Organisation =

Before starting the tutorial it is helpful to understand how Repast Simphony models are organised. In particular, agents are organised into collections called *Contexts*. A context is basically a bucket that can be used to hold agents. Contexts are arranged hierarchically and can contain sub-contexts. Agents who exist in a sub-context also exist in the parent context, but the reverse is not necessarily true. For example, in a *School* context there might be *Teacher* and *Student* sub-contexts (and even further *Class* sub-contexts).

*Projections* are used to give the agents a space and can define their relationships. For example, 'GIS' projections gives each agent an (x, y) spatial location and 'Network' projections allow relationships between agents to be defined (e.g. a social network). Projections are created for specific contexts and will automatically contain every agent within the context (so if an agent is added to a context it is also added to any projections which have been created on that context).

The figure below illustrates the organisation of the RepastCity model. Each context has an associated GIS projection to store the spatial locations of the objects.

http://repastcity.googlecode.com/svn/wiki/images/bankers/contexts_projections.png

The *JunctionContext* is at the central means of routing agents. A Junction object is defined as the point at which two roads cross (e.g. an intersection). Therefore the *JunctionGeogaraphy* GIS projection is used to hold the locations of all the road intersections, and *RoadNetwork* is a network projection that contains the links between different junctions. Hence agents use the network to work out how to move from one place to another along the road network.

A fuller description of the routing algorithm itself is available on the [http://crimesim.blogspot.com/2008/05/using-repast-to-move-agents-along-road.html crimesim blog].

That's enough of an introduction, now go to the next page to [BankersLoading load the tutorial].

For reference, here's a table of contents for the tutorial:

  # BankersIntro - this page.
  # BankersLoading - how to load the tutorial.
  # BankersFindWork - assigning the agents places to work.
  # BankersClock - implementing a clock so that the agents know what the time is.
  # BankersMakeWork - changing the behaviour so that the agents work between 9am and 5pm.
  # BankersBurglary - adding to their behaviour so that the agents start to burgle as well.
  # BankersResults - getting some results from the simulation (the number of burglaries per house in this case).
  # BankersRoadClosures - closing some roads to see how this will impact the travel behaviour of the bankers.
  # BankersFinalResults - getting some final results to compare burglary rates before and after the road closures.