===================
RepastCity Tutorial
===================

Introduction
============

This tutorial uses the RepastCity model to build a simple agent-based model of a virtual city. In the basic model, agents choose a building to travel to, go there, and then travel home again; repeating this process forever. This tutorial enhance the model to make the behaviour a bit more interesting by turning the agents into banker/burglars (bankers who, in these tough economic times, need to commit burglary to top up their bonuses). We can then explore some interesting city dynamics. 

The following changes will be made to the basic model:

1. Give the agents a 'workplace' - a bank that they can use for their legitimate city jobs.
#. Implement a clock so that agents know what the time is, not just how many time steps ('iterations') have occurred.
#. Change the agent's behaviour so that they go to work between 9am - 5pm and spend the rest of their time at home (or travelling).
#. Further update the agents' behaviour so that they randomly commit burglary if they pass a suitable house while they are travelling.
#. Remove a few key roads from the road network to see what affect this will have on patterns of burglary.

GIS Data - York
===============

The data for the tutorial cover part of the city of York. For the sake of this tutorial, the data have been cut down by removing some of the houses and roads. The image below illustrates the study area; agents live in the suburban areas towards the west of the city and travel into the centre for work. There are a small number of major roads which offer the quickest routes into the city but, due to budget cuts, the council are going to have to close these and the bankers will have to find new routes. This might lead to interesting effects on travel patterns and on burglary rates.

XXXX image of data.

Loading the Tutorial
====================

XXXX - where to find the tutorial code and load it into Repast.

XXXX - click on the down arrow to show the different components.

Giving Agents Somewhere to Work
===============================

In the basic model, agents are instances of the ``DefaultAgent`` class which lives in the ``repastcity3.agent`` package. To make the first change to the agents, we need to open this source file:

1. In the left hand window (the 'Package Explorer'), expand the *repastcity3* folder so that you can see the contents of the program
#. Expand the ``repastcity3.agent`` package.
#. Open the ``DefaultAgent.java`` class. It is possible to create a new class for our banker agents (called ``Banker`` for example) but for now we'll just keep the boring ``DefaultAgent`` class name.
#. Scroll down to find the ``step()`` method.

Once openning the file, your display should look similar to this:

.. image:: figures/agent_step.jpg

The task for this stage is to find 


Elsewhere in the program we have scheduled each agent's ``step()`` method to be called at every iteration of the model. Hence, all the code to control their behaviour can go in here.

